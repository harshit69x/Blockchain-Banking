# System Architecture Diagram

## Complete Blockchain Banking + IoT System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BLOCKCHAIN BANKING SYSTEM                            â”‚
â”‚                         with IoT RFID Integration                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   Ganache    â”‚
                              â”‚  Blockchain  â”‚
                              â”‚   (Local)    â”‚
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚                       â”‚
                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
                    â”‚ BankVC  â”‚            â”‚ Balance  â”‚
                    â”‚Contract â”‚            â”‚  Mapping â”‚
                    â”‚(ERC-721)â”‚            â”‚   ETH    â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ VC Mint  â”‚    â”‚ VC Revokeâ”‚    â”‚  Deposit â”‚
   â”‚  Issue   â”‚    â”‚  Burn    â”‚    â”‚ Withdraw â”‚
   â”‚  Verify  â”‚    â”‚  Check   â”‚    â”‚ Transfer â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              BACKEND SERVER
                         (Express + ethers.js)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  Backend Server  â”‚
                         â”‚  Port: 5000      â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                               â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  IPFS Routes    â”‚            â”‚   IoT Routes    â”‚
         â”‚  /api/upload/*  â”‚            â”‚   /api/iot/*    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                              â”‚
                  â”‚                              â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Pinata Service  â”‚            â”‚  RFID Card DB   â”‚
         â”‚  uploadKYC()    â”‚            â”‚  cardToken â†’    â”‚
         â”‚  fetchIPFS()    â”‚            â”‚  walletAddress  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚ Blockchain Svc  â”‚
                                        â”‚  ethers.js      â”‚
                                        â”‚  signTx()       â”‚
                                        â”‚  verifyVC()     â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                            FRONTEND APPLICATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      BANK DASHBOARD             â”‚  â”‚      USER DASHBOARD             â”‚
â”‚      Port: 3001                 â”‚  â”‚      Port: 3002                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Dashboard                   â”‚  â”‚  ğŸ‘¤ Profile                     â”‚
â”‚    - Total VCs Issued           â”‚  â”‚    - Wallet Address             â”‚
â”‚    - Active Users               â”‚  â”‚    - VC Status                  â”‚
â”‚    - System Stats               â”‚  â”‚    - Balance                    â”‚
â”‚                                 â”‚  â”‚                                 â”‚
â”‚  ğŸ“‹ VC Requests                 â”‚  â”‚  ğŸ“ Request VC                  â”‚
â”‚    - Pending Requests           â”‚  â”‚    - KYC Form                   â”‚
â”‚    - View Secure KYC            â”‚  â”‚      â€¢ Personal Info            â”‚
â”‚    - Approve/Reject             â”‚  â”‚      â€¢ Address                  â”‚
â”‚    - Auto IPFS Upload           â”‚  â”‚      â€¢ ID Type + Number         â”‚
â”‚                                 â”‚  â”‚      â€¢ (Doc Upload Optional)    â”‚
â”‚  âœ… Issued VCs                  â”‚  â”‚    - SHA-256 Hashing            â”‚
â”‚    - View on IPFS               â”‚  â”‚    - Submit to Blockchain       â”‚
â”‚    - Revoke VC                  â”‚  â”‚                                 â”‚
â”‚    - KYC Data Viewer            â”‚  â”‚  ğŸ« My VCs                      â”‚
â”‚                                 â”‚  â”‚    - VC Status Badge            â”‚
â”‚  ğŸ’° Transactions                â”‚  â”‚    - View on IPFS               â”‚
â”‚    - Approve Deposits           â”‚  â”‚    - Token ID                   â”‚
â”‚    - Process Withdrawals        â”‚  â”‚                                 â”‚
â”‚                                 â”‚  â”‚  ğŸ’³ Banking                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    - Deposit ETH                â”‚
                                     â”‚    - Withdraw ETH               â”‚
                                     â”‚    - Transfer to Address        â”‚
                                     â”‚    - Transaction History        â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              IoT HARDWARE LAYER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  ESP8266 Device  â”‚
                         â”‚   (NodeMCU)      â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                               â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  MFRC522 RFID   â”‚            â”‚  LED Feedback   â”‚
         â”‚     Reader      â”‚            â”‚  Green / Red    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ (13.56 MHz)
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   RFID Card     â”‚
         â”‚                 â”‚
         â”‚  Block 4:       â”‚
         â”‚  "CRD103492"    â”‚
         â”‚                 â”‚
         â”‚  (No wallet,    â”‚
         â”‚   No VC,        â”‚
         â”‚   No keys!)     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                           DATA FLOW DIAGRAMS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   FLOW 1: VC ISSUANCE       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Dashboard                Backend                  Blockchain
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â”‚                             â”‚                         â”‚
   â”‚ 1. Fill KYC Form            â”‚                         â”‚
   â”‚    (name, DOB, ID...)       â”‚                         â”‚
   â”‚                             â”‚                         â”‚
   â”‚ 2. Hash ID Number           â”‚                         â”‚
   â”‚    (SHA-256 + salt)         â”‚                         â”‚
   â”‚                             â”‚                         â”‚
   â”‚ 3. Submit KYC Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                         â”‚
   â”‚    JSON.stringify()         â”‚                         â”‚
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚ 4. requestVC(kycData) â”€â”€â–¶
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚                   5. Store Request
   â”‚                             â”‚                      (vcRequests)
   â”‚                             â”‚                         â”‚
   â”‚ 6. Transaction Confirmed â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â”‚    (VC Request #1 Created)  â”‚                         â”‚
   â”‚                             â”‚                         â”‚

Bank Dashboard                 Backend                  Blockchain/IPFS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â”‚                             â”‚                         â”‚
   â”‚ 7. View Pending Request     â”‚                         â”‚
   â”‚    (KYCDataViewer)          â”‚                         â”‚
   â”‚                             â”‚                         â”‚
   â”‚ 8. Click "Approve VC"       â”‚                         â”‚
   â”‚                             â”‚                         â”‚
   â”‚ 9. Auto Upload to IPFS â”€â”€â”€â”€â”€â–¶ uploadKYCMetadata()    â”‚
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚ 10. POST to Pinata â”€â”€â”€â”€â”€â–¶ IPFS
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚ 11. Return CID â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ IPFS
   â”‚                             â”‚     (QmXxx...)          â”‚
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚ 12. approveVC(userId, CID) â–¶
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚                   13. Mint VC NFT
   â”‚                             â”‚                       tokenId = 1
   â”‚                             â”‚                       URI = ipfs://QmXxx
   â”‚                             â”‚                         â”‚
   â”‚ 14. VC Issued! â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â”‚     Toast: "VC approved!"   â”‚                         â”‚


                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  FLOW 2: IoT TRANSACTION    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ESP8266                        Backend                  Blockchain
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â”‚                             â”‚                         â”‚
   â”‚ 1. User Taps Card           â”‚                         â”‚
   â”‚    (RFID read)              â”‚                         â”‚
   â”‚                             â”‚                         â”‚
   â”‚ 2. Read Block 4             â”‚                         â”‚
   â”‚    cardToken = "CRD103492"  â”‚                         â”‚
   â”‚                             â”‚                         â”‚
   â”‚ 3. POST /api/iot/transactionâ–¶                         â”‚
   â”‚    {                        â”‚                         â”‚
   â”‚      cardToken: "CRD103492",â”‚                         â”‚
   â”‚      deviceId: "esp-01",    â”‚                         â”‚
   â”‚      transactionType: "DEPOSIT",                      â”‚
   â”‚      amount: 100            â”‚                         â”‚
   â”‚    }                        â”‚                         â”‚
   â”‚    Header: x-device-api-key â”‚                         â”‚
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚ 4. Verify API Key       â”‚
   â”‚                             â”‚    (middleware)         â”‚
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚ 5. Lookup Card          â”‚
   â”‚                             â”‚    cardToken â†’ wallet   â”‚
   â”‚                             â”‚    â†’ vcTokenId          â”‚
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚ 6. isValidVC(vcTokenId)â”€â”€â–¶
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚                   7. Check VC
   â”‚                             â”‚                      (not revoked)
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚ 8. VC Valid â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚ 9. processDeposit() â”€â”€â”€â”€â”€â–¶
   â”‚                             â”‚    (bank wallet signs)  â”‚
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚                  10. Execute Tx
   â”‚                             â”‚                      deposit(100 ETH)
   â”‚                             â”‚                         â”‚
   â”‚                             â”‚ 11. Tx Receipt â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   â”‚                             â”‚     (txHash, gasUsed)   â”‚
   â”‚                             â”‚                         â”‚
   â”‚ 12. JSON Response â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
   â”‚     {                       â”‚                         â”‚
   â”‚       status: "success",    â”‚                         â”‚
   â”‚       txHash: "0x123...",   â”‚                         â”‚
   â”‚       balance: "100.0"      â”‚                         â”‚
   â”‚     }                       â”‚                         â”‚
   â”‚                             â”‚                         â”‚
   â”‚ 13. Blink Green LED         â”‚                         â”‚
   â”‚     (success!)              â”‚                         â”‚
   â”‚                             â”‚                         â”‚


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                            SECURITY ARCHITECTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SECURITY LAYERS                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer 1: Physical Security
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  RFID Card Storage:
    âœ… Random cardToken only (e.g., "CRD103492")
    âŒ NO wallet address
    âŒ NO private keys
    âŒ NO VC data
    âŒ NO personal information
  
  â†’ If card stolen: Only useless random string exposed


Layer 2: Network Security
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ESP8266 â†’ Backend:
    âœ… API Key in HTTP header (x-device-api-key)
    âœ… Device ID tracking
    âœ… TLS/HTTPS (production)
  
  Backend â†’ Blockchain:
    âœ… Private key stored on server only
    âœ… Never transmitted to frontend/IoT
    âœ… Environment variable (.env)
    âœ… HSM recommended (production)


Layer 3: Application Security
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  KYC Data:
    âœ… ID numbers hashed (SHA-256 + salt)
    âœ… Documents hashed (SHA-256)
    âŒ Plain ID numbers never stored
    âŒ Documents never uploaded
  
  Card Registration:
    âœ… Card â†’ Wallet mapping in backend DB
    âœ… VC validation before transactions
    âœ… Card deactivation capability
  
  Transactions:
    âœ… VC verification required
    âœ… Backend signs transactions
    âœ… Rate limiting (production)


Layer 4: Blockchain Security
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Smart Contract:
    âœ… Access control (onlyBank)
    âœ… ReentrancyGuard
    âœ… Pausable
    âœ… ERC-721 standard
  
  VC Lifecycle:
    âœ… Mint only by bank
    âœ… Revoke only by bank
    âœ… Non-transferable
    âœ… IPFS URI immutable


Layer 5: Data Privacy
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Storage Model:
    Plain Text (IPFS):     Hashed (IPFS):
    â€¢ Full Name            â€¢ ID Number Hash
    â€¢ Date of Birth        â€¢ Document Hash
    â€¢ Email
    â€¢ Phone
    â€¢ Address
  
  Verification:
    Bank can verify user's plain ID by:
    1. User provides plain ID
    2. Backend hashes it
    3. Compare hash with stored hash
    4. Match = verified âœ…


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                          TECHNOLOGY STACK
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            FULL STACK                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (React)                 Backend (Node.js)           Blockchain
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
React 18.2.0                     Express 4.18.2              Solidity ^0.8.0
Vite 5.0.8                       ethers.js 6.9.0             Truffle 5.x
Tailwind CSS v4                  axios 1.6.2                 Ganache 7.x
Framer Motion                    cors 2.8.5                  OpenZeppelin 5.x
Lucide Icons                     dotenv 16.3.1               
Web3.js 4.x                      multer 1.4.5                
                                 form-data 4.0.0             

IPFS                             IoT Hardware                Database
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Pinata Cloud Service             ESP8266 (NodeMCU)           In-Memory Map
Gateway: pinata.cloud            MFRC522 RFID                (MongoDB ready)
CID: ipfs://QmXxx...             Mifare Classic 1K           
                                 Arduino IDE                 
                                 ArduinoJson 6.x             
                                 MFRC522 Library             


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         FILE STRUCTURE SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

blockchain-banking/
â”‚
â”œâ”€â”€ contracts/
â”‚   â””â”€â”€ BankVC.sol â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ERC-721 VC NFT contract
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.js â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Express server (IPFS + IoT)
â”‚   â”œâ”€â”€ pinata.js â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Pinata IPFS service
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ RFIDCard.js â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Card database model
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ iot.js â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ IoT API endpoints
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ blockchain.js â”€â”€â”€â”€â”€â”€â”€â”€ ethers.js service
â”‚   â”œâ”€â”€ .env â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Environment variables
â”‚   â””â”€â”€ test-iot.js â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ IoT test suite
â”‚
â”œâ”€â”€ frontend-bank/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ pages/
â”‚       â”‚   â””â”€â”€ DashboardNew.jsx â”€â”€ Bank dashboard
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â””â”€â”€ KYCDataViewer.jsx  Privacy viewer
â”‚       â””â”€â”€ utils/
â”‚           â”œâ”€â”€ pinataUpload.js â”€â”€â”€ IPFS upload
â”‚           â””â”€â”€ hashUtils.js â”€â”€â”€â”€â”€â”€ SHA-256 hashing
â”‚
â”œâ”€â”€ frontend-user/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ pages/
â”‚       â”‚   â””â”€â”€ UserDashboardNew.jsx User dashboard
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â””â”€â”€ KYCForm.jsx â”€â”€â”€â”€â”€â”€â”€ Secure KYC form
â”‚       â””â”€â”€ utils/
â”‚           â””â”€â”€ hashUtils.js â”€â”€â”€â”€â”€â”€ SHA-256 hashing
â”‚
â”œâ”€â”€ iot/
â”‚   â”œâ”€â”€ esp8266_rfid_transaction/
â”‚   â”‚   â””â”€â”€ esp8266_rfid_transaction.ino Main firmware
â”‚   â”œâ”€â”€ rfid_card_writer/
â”‚   â”‚   â””â”€â”€ rfid_card_writer.ino â”€â”€ Card programmer
â”‚   â””â”€â”€ ARDUINO_LIBRARIES.md â”€â”€â”€â”€â”€ Setup guide
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ IOT_INTEGRATION.md â”€â”€â”€â”€â”€â”€â”€ Full IoT guide (500+ lines)
    â”œâ”€â”€ IOT_QUICK_START.md â”€â”€â”€â”€â”€â”€â”€ 5-min setup
    â”œâ”€â”€ IOT_IMPLEMENTATION_SUMMARY.md What was built
    â”œâ”€â”€ COMPLETE_SYSTEM_GUIDE.md â”€â”€ This file
    â”œâ”€â”€ PINATA_INTEGRATION.md â”€â”€â”€â”€ IPFS documentation
    â””â”€â”€ SECURE_KYC_SYSTEM.md â”€â”€â”€â”€â”€ KYC privacy guide


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                           DEPLOYMENT CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Development Environment
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â˜ Ganache running (port 7545)
â˜ Contract deployed (truffle migrate)
â˜ Backend .env configured
â˜ Backend running (npm start)
â˜ Frontend-bank running (npm run dev)
â˜ Frontend-user running (npm run dev)
â˜ MetaMask connected to Ganache

Production Environment (Future)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â˜ Deploy to testnet (Sepolia/Mumbai)
â˜ Verify contract on Etherscan
â˜ Deploy backend to cloud (AWS/Azure)
â˜ Enable HTTPS (Let's Encrypt)
â˜ Use HSM for private keys
â˜ Add MongoDB for card storage
â˜ Implement rate limiting
â˜ Add audit logging
â˜ Set up monitoring (Sentry/Datadog)
â˜ Configure WAF (Cloudflare)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              GLOSSARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VC          Verifiable Credential (ERC-721 NFT)
IPFS        InterPlanetary File System (decentralized storage)
CID         Content Identifier (IPFS hash)
Pinata      Cloud IPFS pinning service
SHA-256     Cryptographic hash algorithm
RFID        Radio-Frequency Identification
MFRC522     RFID reader IC (13.56 MHz)
ESP8266     WiFi microcontroller
NodeMCU     ESP8266 development board
ethers.js   Ethereum library for JavaScript
Ganache     Local Ethereum blockchain
Truffle     Ethereum development framework
HSM         Hardware Security Module
ERC-721     Non-Fungible Token standard

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                          ğŸ¯ SYSTEM READY FOR LAUNCH
                           
                    All components implemented and tested
                      Follow COMPLETE_SYSTEM_GUIDE.md
                            to get started!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
