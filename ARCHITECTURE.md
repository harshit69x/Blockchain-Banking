# ğŸ—ï¸ SYSTEM ARCHITECTURE

## Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BLOCKCHAIN BANKING SYSTEM                     â”‚
â”‚              SSI & Verifiable Credentials Platform               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚ â—„â”€â”€â”€â”€ MetaMask / Web3Modal â”€â”€â”€â”€â–º â”‚   Ganache    â”‚
â”‚   (User)    â”‚                                    â”‚  (Local Net) â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                                   â”‚
       â”‚ HTTPS                                             â”‚ RPC
       â”‚                                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React     â”‚                                    â”‚   BankVC     â”‚
â”‚  Frontend   â”‚ â—„â”€â”€â”€â”€ Web3.js / Contract ABI â”€â”€â”€â–º â”‚   Contract   â”‚
â”‚  (Vite)     â”‚                                    â”‚  (Solidity)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                                   â”‚
       â”‚                                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚    IPFS     â”‚ â—„â”€â”€â”€â”€ Store KYC Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   Events     â”‚
â”‚  (Gateway)  â”‚                                    â”‚   Emitter    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Architecture

### 1. Smart Contract Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BankVC.sol Contract               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  Inheritance:                                  â”‚
â”‚  â”œâ”€ ERC721URIStorage (NFT standard)           â”‚
â”‚  â”œâ”€ AccessControl (Role management)           â”‚
â”‚  â”œâ”€ ReentrancyGuard (Attack prevention)       â”‚
â”‚  â””â”€ Pausable (Emergency stop)                 â”‚
â”‚                                                â”‚
â”‚  Core Functions:                               â”‚
â”‚  â”œâ”€ mintVC()                                   â”‚
â”‚  â”œâ”€ revokeVC()                                 â”‚
â”‚  â”œâ”€ deposit()                                  â”‚
â”‚  â”œâ”€ withdraw()                                 â”‚
â”‚  â”œâ”€ getUserVCs()                               â”‚
â”‚  â””â”€ isValidVC()                                â”‚
â”‚                                                â”‚
â”‚  Storage:                                      â”‚
â”‚  â”œâ”€ mapping(uint256 => bool) revoked          â”‚
â”‚  â”œâ”€ mapping(address => uint256) balance       â”‚
â”‚  â”œâ”€ mapping(uint256 => address) vcOwner       â”‚
â”‚  â””â”€ uint256 nextTokenId                       â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Frontend Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   React App                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                   â”‚
â”‚  App.jsx (Root)                                   â”‚
â”‚  â”œâ”€ Web3 Connection                               â”‚
â”‚  â”œâ”€ Wallet Management                             â”‚
â”‚  â””â”€ Role Detection                                â”‚
â”‚      â”‚                                             â”‚
â”‚      â”œâ”€â–º BankView.jsx                             â”‚
â”‚      â”‚   â”œâ”€ Mint VC Tab                           â”‚
â”‚      â”‚   â”œâ”€ Revoke VC Tab                         â”‚
â”‚      â”‚   â”œâ”€ Monitor Events Tab                    â”‚
â”‚      â”‚   â””â”€ Contract Control Tab                  â”‚
â”‚      â”‚                                             â”‚
â”‚      â””â”€â–º UserView.jsx                             â”‚
â”‚          â”œâ”€ VC Display                            â”‚
â”‚          â”œâ”€ Deposit Section                       â”‚
â”‚          â”œâ”€ Withdraw Section                      â”‚
â”‚          â””â”€ Transaction History                   â”‚
â”‚                                                   â”‚
â”‚  Components:                                      â”‚
â”‚  â”œâ”€ AddressBadge.jsx                             â”‚
â”‚  â”œâ”€ TokenCard.jsx                                â”‚
â”‚  â””â”€ TxStatusToast.jsx                            â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagrams

### VC Minting Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”    1. Upload KYC    â”Œâ”€â”€â”€â”€â”€â”€â”    2. Get CID    â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ Bank â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ IPFS â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Bank â”‚
â””â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”¬â”€â”€â”˜
                                                            â”‚
                                                            â”‚ 3. mintVC(user, CID)
                                                            â–¼
                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                     â”‚ Contract â”‚
                                                     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                                           â”‚ 4. Emit VCIssued
                                                           â–¼
                                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                     â”‚   User   â”‚
                                                     â”‚ (VC NFT) â”‚
                                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Deposit Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”    1. Check VC     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Contract â”‚
â””â”€â”€â”€â”¬â”€â”€â”˜                     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
    â”‚                             â”‚
    â”‚                             â”‚ 2. isValidVC?
    â”‚                             â”‚
    â”‚ 3. deposit() + ETH          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
    â”‚                             â”‚
    â”‚                             â”‚ 4. Update balance
    â”‚                             â”‚ 5. Emit Deposit
    â”‚ 6. Confirmation             â”‚
    â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
```

### Withdrawal Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”    1. withdraw(amt)  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Contract â”‚
â””â”€â”€â”€â”¬â”€â”€â”˜                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
    â”‚                              â”‚
    â”‚                              â”‚ 2. Check balance
    â”‚                              â”‚ 3. Deduct balance
    â”‚                              â”‚
    â”‚ 4. Transfer ETH              â”‚
    â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                              â”‚
    â”‚                              â”‚ 5. Emit Withdraw
    â”‚ 6. Confirmation              â”‚
    â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
```

### Revocation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”   1. revokeVC(tokenId)  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Bank â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Contract â”‚
â””â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â”‚ 2. Set revoked[tokenId] = true
                                       â”‚ 3. Emit VCRevoked
                                       â–¼
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚   User   â”‚
                                 â”‚ (Blocked)â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## State Management

### Contract State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Contract State              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  VCs:                               â”‚
â”‚  â”œâ”€ nextTokenId: counter            â”‚
â”‚  â”œâ”€ vcOwner[tokenId]: owner address â”‚
â”‚  â””â”€ revoked[tokenId]: bool          â”‚
â”‚                                     â”‚
â”‚  Balances:                          â”‚
â”‚  â””â”€ balance[user]: ETH amount       â”‚
â”‚                                     â”‚
â”‚  Roles:                             â”‚
â”‚  â””â”€ BANK_ROLE holders               â”‚
â”‚                                     â”‚
â”‚  Contract:                          â”‚
â”‚  â””â”€ paused: bool                    â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Frontend State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         React State                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Connection:                        â”‚
â”‚  â”œâ”€ web3: Web3 instance             â”‚
â”‚  â”œâ”€ account: wallet address         â”‚
â”‚  â”œâ”€ contract: contract instance     â”‚
â”‚  â””â”€ networkId: chain ID             â”‚
â”‚                                     â”‚
â”‚  User Data:                         â”‚
â”‚  â”œâ”€ isBank: boolean                 â”‚
â”‚  â”œâ”€ userVCs: array                  â”‚
â”‚  â”œâ”€ balance: string                 â”‚
â”‚  â””â”€ events: array                   â”‚
â”‚                                     â”‚
â”‚  UI State:                          â”‚
â”‚  â”œâ”€ loading: boolean                â”‚
â”‚  â”œâ”€ toast: object                   â”‚
â”‚  â””â”€ activeTab: string               â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Security Layers                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  1. Access Control                          â”‚
â”‚     â””â”€ BANK_ROLE for admin functions       â”‚
â”‚                                             â”‚
â”‚  2. Reentrancy Guard                        â”‚
â”‚     â””â”€ Protect deposit/withdraw             â”‚
â”‚                                             â”‚
â”‚  3. Pausable                                â”‚
â”‚     â””â”€ Emergency stop mechanism             â”‚
â”‚                                             â”‚
â”‚  4. Input Validation                        â”‚
â”‚     â”œâ”€ Address checks                       â”‚
â”‚     â”œâ”€ Amount validation                    â”‚
â”‚     â””â”€ CID validation                       â”‚
â”‚                                             â”‚
â”‚  5. Overflow Protection                     â”‚
â”‚     â””â”€ Solidity 0.8+ built-in              â”‚
â”‚                                             â”‚
â”‚  6. Event Logging                           â”‚
â”‚     â””â”€ Audit trail for all actions         â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Network Topology

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Browser  â”‚ â—„â”€â”€â”€â”€â”€â–º â”‚  MetaMask    â”‚        â”‚
â”‚  â”‚  Client   â”‚         â”‚  Extension   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚        â”‚                      â”‚                 â”‚
â”‚        â”‚ HTTP                 â”‚                 â”‚
â”‚        â”‚                      â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚      Vite Dev Server              â”‚          â”‚
â”‚  â”‚      (localhost:3000)             â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                  â”‚                               â”‚
â”‚                  â”‚ Web3 RPC                      â”‚
â”‚                  â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚      Ganache Local Network        â”‚          â”‚
â”‚  â”‚      (localhost:8545)             â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚          â”‚
â”‚  â”‚  â”‚   BankVC Contract        â”‚    â”‚          â”‚
â”‚  â”‚  â”‚   Address: 0x...         â”‚    â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Event System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Event Emission                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  VCIssued                              â”‚
â”‚  â”œâ”€ tokenId                            â”‚
â”‚  â”œâ”€ to (user address)                  â”‚
â”‚  â”œâ”€ ipfsCID                            â”‚
â”‚  â””â”€ issuedAt (timestamp)               â”‚
â”‚                                        â”‚
â”‚  VCRevoked                             â”‚
â”‚  â”œâ”€ tokenId                            â”‚
â”‚  â”œâ”€ revokedBy (bank address)           â”‚
â”‚  â””â”€ revokedAt (timestamp)              â”‚
â”‚                                        â”‚
â”‚  Deposit                               â”‚
â”‚  â”œâ”€ user                               â”‚
â”‚  â”œâ”€ amount                             â”‚
â”‚  â””â”€ balanceAfter                       â”‚
â”‚                                        â”‚
â”‚  Withdraw                              â”‚
â”‚  â”œâ”€ user                               â”‚
â”‚  â”œâ”€ amount                             â”‚
â”‚  â””â”€ balanceAfter                       â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Frontend Event Listeners         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  getPastEvents()                       â”‚
â”‚  â””â”€ Load historical events             â”‚
â”‚                                        â”‚
â”‚  Contract.on('Event')                  â”‚
â”‚  â””â”€ Real-time updates (future)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Deployment Architecture

### Development

```
Developer Machine
â”œâ”€ Ganache UI (Blockchain)
â”œâ”€ Truffle (Deployment)
â”œâ”€ Vite (Frontend Server)
â””â”€ MetaMask (Wallet)
```

### Production (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Production Env    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”œâ”€ Ethereum Mainnetâ”‚
â”‚  â”‚  or Testnet      â”‚
â”‚  â”‚                  â”‚
â”‚  â”œâ”€ Pinata/Infura   â”‚
â”‚  â”‚  (IPFS)          â”‚
â”‚  â”‚                  â”‚
â”‚  â”œâ”€ Vercel/Netlify  â”‚
â”‚  â”‚  (Frontend)      â”‚
â”‚  â”‚                  â”‚
â”‚  â””â”€ Backend API     â”‚
â”‚     (Event Indexer) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Technology Stack Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Frontend Layer                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ React  â”‚ â”‚ Vite â”‚ â”‚ Web3.jsâ”‚ â”‚Web3Modalâ”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Blockchain Layer                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚Ganache â”‚ â”‚ Truffle  â”‚ â”‚ OpenZeppelin  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Smart Contract                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        BankVC.sol (Solidity)         â”‚  â”‚
â”‚  â”‚  â”œâ”€ ERC721URIStorage                 â”‚  â”‚
â”‚  â”‚  â”œâ”€ AccessControl                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ ReentrancyGuard                  â”‚  â”‚
â”‚  â”‚  â””â”€ Pausable                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## User Journey Map

### Bank Journey

```
1. Connect Wallet â†’ 2. Upload KYC â†’ 3. Mint VC â†’ 4. Monitor â†’ 5. Revoke
      â”‚                   â”‚               â”‚            â”‚            â”‚
      â–¼                   â–¼               â–¼            â–¼            â–¼
  MetaMask           IPFS Upload    Transaction   View Events   Revoke TX
  Approval           Get CID        Confirm       Filter Data    Confirm
```

### User Journey

```
1. Connect â†’ 2. View VC â†’ 3. Deposit â†’ 4. Withdraw â†’ 5. Blocked
     â”‚            â”‚            â”‚            â”‚              â”‚
     â–¼            â–¼            â–¼            â–¼              â–¼
 MetaMask     Check Valid   Send ETH    Receive ETH   After Revoke
 Approval     Status        Confirm     Confirm       Error Message
```

---

**This architecture enables:**
- âœ… Decentralized identity management
- âœ… Secure banking operations
- âœ… Role-based access control
- âœ… Audit trail via events
- âœ… Emergency controls
- âœ… Scalable design
